/*
 * Copyright (c) 2020 The ZMK Contributors
 *
 * SPDX-License-Identifier: MIT
 */

#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>

// Layers
#define NUM 1
#define NAV 2
#define ART 3

#include "behaviours.dtsi"

/ {
    keymap {
        compatible = "zmk,keymap";
        default_layer {
            display-name = "BASE";
            // ┌──────┬──────┬──────┬──────┬──────┬──────┐                 ┌──────┬──────┬──────┬──────┬──────┬──────┐
            // | Tab  |  Q   |  W   |  E   |  R   |  T   |                 |   Y  |   U  |   I  |   O  |   P  |  Bsp |
            // ├──────┼──────┼──────┼──────┼──────┼──────┤                 ├──────┼──────┼──────┼──────┼──────┼──────┤
            // | Esc  |  A   |  S   |  D   |  F   |  G   |                 |   H  |   J  |   K  |   L  |   ;  |   '  |
            // | LCtrl|      |      |      |      |      |                 |      |      |      |      |      | LCtrl|
            // ├──────┼──────┼──────┼──────┼──────┼──────┤                 ├──────┼──────┼──────┼──────┼──────┼──────┤
            // |      |  Z   |  X   |  C   |  V   |  B   |                 |   N  |   M  |   ,  |   .  |   /  |   -  |
            // └──────┴──────┴──────┴──┬───┴──┬───┴──┬───┴──┐          ┌───┴──┬───┴──┬───┴──┬───┴──────┴──────┴──────┘
            //                         |  (   | Spc  |  [   |          |   ]  |  Ret |   )  |
            //                         |LShft | LAlt |*Num* |          | *Nav*| Meta | RShft|
            //                         └──────┴──────┴──────┘          └──────┴──────┴──────┘
            bindings = <
                &kp TAB       &kp Q  &kp W  &kp E  &kp R  &kp T            &kp Y  &kp U  &kp I    &kp O   &kp P    &kp BKSP
                &pm LCTRL ESC  &kp A  &kp S  &kp D  &kp F  &kp G            &kp H  &kp J  &kp K    &kp L   &kp SCLN &pm RCTRL QUOT
                &kp LSHFT      &kp Z  &kp X  &kp C  &kp V  &kp B            &kp N  &kp M  &kp CMMA &kp DOT &kp FSLH &kp MINUS
                           &mt LSHFT LPRN &nt LALT SPC &lt NUM LBKT    &lt NAV RBKT &nt LGUI RET &mt RSHFT RPRN
            >;
        };

        num_layer {
            display-name = "NUM";
            // ┌──────┬──────┬──────┬──────┬──────┬──────┐                 ┌──────┬──────┬──────┬──────┬──────┬──────┐
            // |//////|      |      |  E   |  `   |  _   |                 |   *  |   7  |   8  |   9  |   -  |//////|
            // ├──────┼──────┼──────┼──────┼──────┼──────┤                 ├──────┼──────┼──────┼──────┼──────┼──────┤
            // |//////|//////|      |  D   |  F   |  \   |                 |   /  |   4  |   5  |   6  |   +  |//////|
            // ├──────┼──────┼──────┼──────┼──────┼──────┤                 ├──────┼──────┼──────┼──────┼──────┼──────┤
            // | SHFT |      |      |//////|      |//////|                 |   =  |   1  |   2  |   3  |   .  |  Del |
            // └──────┴──────┴──────┴──┬───┴──┬───┴──┬───┴──┐          ┌───┴──┬───┴──┬───┴──┬───┴──────┴──────┴──────┘
            //                         |//////|//////|*Pad* |          | 0    |//////|//////|
            //                         └──────┴──────┴──────┘          └──────┴──────┴──────┘
            bindings = <
                &trans    &none   &none   &kp E   &kp GRAV  &none         &kp KMLT  &kp NUM_7  &kp NUM_8  &kp NUM_9  &kp MINUS  &trans
                &trans    &trans  &none   &trans  &trans    &kp BSLH      &kp KDIV  &kp NUM_4  &kp NUM_5  &kp NUM_6  &kp KPLS   &trans
                &kp LSHFT  &none   &trans  &trans  &none     &trans        &kp EQL   &kp NUM_1  &kp NUM_2  &kp NUM_3  &kp DOT    &kp DEL
                                           &trans  &trans  &trans    &kp NUM_0  &trans  &trans
            >;
        };
 
        nav_layer {
            display-name = "NAV";
            // ┌──────┬──────┬──────┬──────┬──────┬──────┐                 ┌──────┬──────┬──────┬──────┬──────┬──────┐
            // |BT_CLR|BT P0 |BT P1 |BT P2 |BT P3 |BT P4 |                 |  F1  |  F2  |  F3  |  F4  |  F6  |//////|
            // ├──────┼──────┼──────┼──────┼──────┼──────┤                 ├──────┼──────┼──────┼──────┼──────┼──────┤
            // |//////| Home | PgUp | PgDn | End  |      |                 |   ←  |   ↓  |   ↑  |   →  | Vol+ |BT_NXT|
            // ├──────┼──────┼──────┼──────┼──────┼──────┤                 ├──────┼──────┼──────┼──────┼──────┼──────┤
            // | RESET| Prev | Play | Next | Stop |      |                 |      |      |      | Mute | Vol- |  ART |
            // └──────┴──────┴──────┴──┬───┴──┬───┴──┬───┴──┐          ┌───┴──┬───┴──┬───┴──┬───┴──────┴──────┴──────┘
            //                         |//////|//////|//////|          | *Nav*|//////|//////|
            //                         └──────┴──────┴──────┘          └──────┴──────┴──────┘
            bindings = <
                &bt BT_CLR  &bt BT_SEL 0  &bt BT_SEL 1  &bt BT_SEL 2  &bt BT_SEL 3  &bt BT_SEL 4      &kp F1    &kp F2    &kp F3    &kp F4      &kp F6        &trans
                &trans      &kp HOME      &kp PGUP      &kp PGDN      &kp END       &none             &kp LARW  &kp DARW  &kp UARW  &kp RARW    &kp C_VOL_UP  &bt BT_NXT
                &td_reset   &kp C_PREV    &kp C_PP      &kp C_NEXT    &kp C_STOP    &none             &none     &none     &none     &kp C_MUTE  &kp C_VOL_DN  &tog ART
                                             &trans  &trans  &trans   &trans  &trans  &trans
            >;
        };
 
        art_layer {
            display-name = "ART";
            // Condensed layout with common Krita functions collapsed onto left half of
            // keyboard. Only fall through mod functions on right half.
            // ┌──────┬──────┬──────┬──────┬──────┬──────┐
            // |TABSP |  QP  |  WO  |  EI  |  RU  |  TY  |
            // ├──────┼──────┼──────┼──────┼──────┼──────┤
            // |ESCQUO|  A;  |  SL  |  DK  |  FJ  |  GH  |
            // ├──────┼──────┼──────┼──────┼──────┼──────┤
            // |-_EXIT|  Z/  |  X.  |  C,  |  VM  |  BN  |
            // └──────┴──────┴──────┴──┬───┴──┬───┴──┬───┴──┐
            //                         | LBKT |SPCRET|RB/INS|
            //                         | LSFT | LALT |LCTRL |
            //                         └──────┴──────┴──────┘
            bindings = <
                &td_tabsp           &td_qp    &td_wo    &td_ei    &td_ru  &td_ty       &none  &none  &none  &none  &none  &trans
                &am_esquot LCTRL 0  &td_ascln &td_sl    &td_dk    &td_fj  &td_gh       &none  &none  &none  &none  &none  &trans
                &td_hyundexit       &td_zslsh &td_xdot  &td_ccomm &td_vm  &td_bn       &none  &none  &none  &none  &none  &tog ART
                           &mt LSHFT LBKT  &am_spc_ret LALT 0  &am_rbkt_ins LCTRL 0       &trans  &trans  &trans
            >;
        };
    };
};

